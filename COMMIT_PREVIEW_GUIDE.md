# Git Auto Commit - 分步提交功能说明

## 🆕 新增功能：可视化提交预览

点击左侧边栏的"Git自动提交"图标后，不再直接执行提交，而是会弹出一个可视化的提交预览窗口。

## 📋 提交预览窗口功能

### 1. 提交信息编辑区域
- **提交信息输入框**：支持多行输入，可以手动输入详细的提交信息
- **🤖 AI生成按钮**：点击可使用配置的AI模型自动生成符合规范的提交信息
- **实时预览**：输入框支持垂直调整大小

### 2. 文件变更列表
- **文件状态标识**：不同颜色显示文件变更类型
  - 🟢 **M (修改)** - 绿色：文件已修改
  - 🔵 **A (新增)** - 蓝色：新增文件
  - 🔴 **D (删除)** - 红色：删除文件
  - 🟠 **R (重命名)** - 橙色：重命名文件
  - 🟣 **?? (未跟踪)** - 紫色：未跟踪的新文件
  - 🟠 **MM (混合变更)** - 橙色：同时有暂存和未暂存的变更

- **文件选择**：
  - 每个文件前有复选框，可选择性提交
  - "全选/全不选"按钮快速切换所有文件
  - 提交按钮会显示选择的文件数量

- **变更详情查看**：
  - 对于修改的文件，点击"查看变更 ▼"可展开diff内容
  - 显示具体的代码变更，方便确认修改内容

### 3. 操作按钮
- **💾 提交到本地**：将选中的文件和提交信息提交到本地Git仓库
- **取消**：关闭窗口，不执行任何操作

## 🔄 分步提交流程

### 第一步：本地提交
1. 点击左侧边栏的Git自动提交图标
2. 在弹出的预览窗口中：
   - 编辑提交信息（手动输入或AI生成）
   - 选择要提交的文件
   - 查看文件变更详情
3. 点击"💾 提交到本地"按钮

### 第二步：推送到远程（可选）
提交成功后，窗口会切换到成功状态：
- 显示提交成功信息和提交内容
- **🚀 同步更改**按钮：推送到远程仓库
- **完成**按钮：结束操作

## ✨ 功能优势

### 🔍 可视化预览
- 提交前能够清楚看到所有变更
- 避免意外提交不需要的文件
- 支持查看具体的代码差异

### 🎯 精确控制
- 可以选择性提交部分文件
- 支持手动编辑AI生成的提交信息
- 分离本地提交和远程推送操作

### 🤖 智能辅助
- AI自动生成符合Conventional Commits规范的提交信息
- 智能识别文件变更类型
- 自动过滤不需要的文件类型

### 🔐 安全保障
- 支持取消操作，避免误操作
- 分步操作降低出错风险
- 本地提交和远程推送分离

## 📝 使用技巧

1. **批量操作**：使用"全选/全不选"按钮快速选择文件
2. **精确提交**：为不同类型的变更创建多个小的提交
3. **信息完善**：结合AI生成和手动编辑，创建高质量的提交信息
4. **安全推送**：先在本地确认提交内容，再决定是否推送到远程

## 🔧 配置说明

此功能会自动使用插件的现有配置：
- **文件类型过滤**：根据"包含文件类型"设置过滤显示的文件
- **排除模式**：根据"排除模式"设置隐藏不需要的文件
- **AI模型配置**：使用默认AI模型生成提交信息
- **远程分支**：推送到配置的远程分支

## 🚀 升级说明

从旧版本升级后：
- 原有的直接提交功能仍然通过命令面板访问
- 左侧边栏图标现在使用新的可视化提交流程
- 所有配置和数据完全兼容
