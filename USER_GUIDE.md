# Git 自动提交插件 - 用户指南

## 🎯 快速开始

### 1. 安装插件
- 将插件文件放置在 `.obsidian/plugins/git-auto/` 目录下
- 在 Obsidian 设置中启用插件

### 2. 添加AI模型
1. 打开插件设置页面
2. 点击"添加AI模型"按钮
3. 填写模型配置信息：
   - **显示名称**: 给模型起个容易识别的名字
   - **模型型号**: 填写实际的模型名称（如 gpt-4、deepseek-chat）
   - **AI提供商**: 选择对应的服务商
   - **API密钥**: 输入您的API密钥（会自动加密存储）
   - **上下文/输出令牌数**: 根据模型配置

### 3. 验证和设置默认模型
1. 点击"验证"按钮测试模型连接
2. 验证成功后，在下拉菜单中选择为默认模型

### 4. 开始使用
- 使用 `Ctrl+P` 打开命令面板
- 搜索"Git提交"相关命令
- 或点击左侧工具栏的上传图标

## 🔧 主要功能

### AI生成提交信息
- 自动分析文件变更
- 生成符合规范的提交信息
- 支持多种提交类型（feat、fix、docs等）

### 灵活的提交范围
- **提交所有文件**: 一次性提交所有变更
- **提交单个文件**: 选择特定文件提交
- **提交当前文件**: 快速提交正在编辑的文件

### 自动推送
- 支持自动推送到远程仓库
- 可配置目标分支

## ⚙️ 配置选项

### 基本设置
- **默认提交范围**: 设置默认的提交行为
- **默认信息类型**: AI生成 或 手动输入
- **自动提交模式**: 跳过确认直接提交
- **显示通知**: 控制操作提示

### Git设置
- **推送到远程**: 提交后自动推送
- **远程分支**: 设置目标分支名称

### 文件过滤
- **包含文件类型**: 指定要包含的文件扩展名
- **排除路径**: 设置要忽略的路径模式

## 🔒 数据安全

### API密钥保护
- 所有API密钥都经过编码存储
- 不会以明文形式保存在配置中
- 内存中使用时自动解码

### 数据隔离
- 配置数据存储在独立文件中
- 与插件代码完全分离
- 便于安全分享和备份

## 📤 分享插件

### 安全分享方法
只需复制以下三个文件：
```
main.js
styles.css  
manifest.json
```

### 注意事项
- **不要复制** `plugin-data.json` 文件
- 这样接收方会获得干净的初始状态
- 您的API密钥和个人配置不会泄露

## 🛠️ 故障排除

### 常见问题

1. **模型验证失败**
   - 检查API密钥是否正确
   - 确认网络连接正常
   - 验证模型名称和基础URL

2. **提交失败**
   - 确保当前目录是Git仓库
   - 检查Git配置是否正确
   - 确认有文件需要提交

3. **设置丢失**
   - 检查 `plugin-data.json` 文件是否存在
   - 使用"调试数据状态"命令查看详情
   - 如需要可使用"重置插件数据"恢复

### 调试工具

#### 调试AI配置
```
命令面板 → 调试AI配置
```
- 查看所有模型配置
- 检查验证状态
- 显示默认模型设置

#### 调试数据状态  
```
命令面板 → 调试数据状态
```
- 显示完整数据结构
- 检查数据文件状态
- 导出配置信息

#### 重置插件数据
```
命令面板 → 重置插件数据
```
- 恢复所有设置到初始状态
- 清除所有模型配置
- 创建新的默认配置

## 📝 使用技巧

### 1. 提交信息优化
- 让AI了解您的项目类型，生成更准确的信息
- 定期检查和调整生成的提交信息
- 使用描述性的文件名帮助AI理解变更

### 2. 模型配置
- 可以配置多个不同的模型
- 为不同项目使用不同的默认模型
- 定期验证模型连接状态

### 3. 工作流程
- 建议先预览AI生成的提交信息
- 在自动提交模式下定期检查提交历史
- 使用文件过滤减少不必要的提交

### 4. 备份与恢复
- 定期导出配置作为备份
- 重要配置更改前先备份
- 使用版本控制管理配置文件

## 🆘 获取帮助

### 文档资源
- `DATA_STORAGE.md` - 数据存储详细说明
- `CHANGELOG.md` - 版本更新记录
- 插件设置页面的内置帮助

### 问题报告
如果遇到问题：
1. 使用调试命令收集详细信息
2. 查看控制台错误信息（F12）
3. 记录重现步骤
4. 通过适当渠道报告问题

### 社区支持
- 查看常见问题解答
- 参与用户社区讨论
- 分享使用经验和技巧

---

希望这个指南能帮助您更好地使用 Git 自动提交插件！如有任何问题，请随时寻求帮助。
