# Obsidian Git Plugin 汉化文档

## 📋 汉化概述

本文档详细规划了 Obsidian Git Plugin 的完整汉化流程，旨在将插件的所有用户界面、文档和相关文本从英文翻译为简体中文，为中文用户提供更好的使用体验。

## 🎯 汉化目标

### 主要目标
1. **用户界面完全中文化** - 所有按钮、菜单、对话框、设置项等
2. **错误消息和通知本地化** - 所有用户可见的提示信息
3. **帮助文档和说明文本** - README、设置说明、功能描述等
4. **保持功能完整性** - 确保汉化不影响插件的任何功能
5. **代码可维护性** - 采用最佳实践，便于后续更新维护

### 具体范围
- ✅ 插件清单文件 (manifest.json)
- ✅ 用户界面文本 (所有 UI 组件)
- ✅ 设置页面 (设置选项和描述)
- ✅ 命令名称和描述
- ✅ 错误消息和通知
- ✅ 模态框和对话框
- ✅ 状态栏文本
- ✅ 工具提示和帮助文本
- ✅ README 和文档

## 🗂️ 汉化分类

### 第一部分：核心界面汉化
**优先级：🔴 高**
- 插件基本信息 (manifest.json)
- 主要命令和菜单项
- 核心 UI 组件（源代码控制视图、历史视图等）
- 基本设置选项

### 第二部分：设置和配置汉化
**优先级：🟡 中**
- 详细设置页面所有选项
- 设置项的描述和帮助文本
- 高级配置选项
- 验证和错误消息

### 第三部分：高级功能汉化
**优先级：🟢 低**
- 高级模态框和对话框
- 详细的错误诊断信息
- 调试和日志信息
- 开发者相关文本

### 第四部分：文档汉化
**优先级：🟡 中**
- README.md 文件
- 更新日志 (CHANGELOG.md)
- 代码注释中的重要说明

## 🔧 汉化策略

### 1. 国际化 (i18n) 架构设计
```typescript
// 创建语言文件结构
src/
  i18n/
    en.ts          // 英文语言包
    zh-cn.ts       // 简体中文语言包
    index.ts       // 语言管理器
```

### 2. 翻译原则
- **准确性** - 确保技术术语翻译准确
- **一致性** - 统一术语翻译，建立术语词典
- **简洁性** - 保持界面文本简洁明了
- **用户友好性** - 使用用户熟悉的表达方式

### 3. 术语统一标准
| 英文术语 | 中文翻译 | 说明 |
|---------|---------|------|
| Repository | 仓库 | Git 仓库 |
| Commit | 提交 | Git 提交 |
| Push | 推送 | 推送到远程 |
| Pull | 拉取 | 从远程拉取 |
| Branch | 分支 | Git 分支 |
| Stage | 暂存 | 暂存区 |
| Unstage | 取消暂存 | 从暂存区移除 |
| Diff | 差异 | 文件差异 |
| Merge | 合并 | 分支合并 |
| Source Control | 源代码控制 | 版本控制 |
| History View | 历史视图 | 提交历史 |
| Auto Backup | 自动备份 | 自动提交 |

## 📁 文件结构分析

### 需要汉化的主要文件类别

#### 1. 配置文件
- `manifest.json` - 插件基本信息
- `src/constants.ts` - 常量定义和默认配置

#### 2. 核心功能文件
- `src/main.ts` - 主插件类
- `src/commands.ts` - 命令定义
- `src/setting/settings.ts` - 设置页面

#### 3. UI 组件文件
```
src/ui/
├── modals/                    # 模态框组件
│   ├── generalModal.ts
│   ├── changedFilesModal.ts
│   ├── customMessageModal.ts
│   ├── discardModal.ts
│   ├── branchModal.ts
│   └── ignoreModal.ts
├── sourceControl/             # 源代码控制视图
│   ├── sourceControl.ts
│   ├── sourceControl.svelte
│   └── components/
├── history/                   # 历史视图
│   ├── historyView.ts
│   ├── historyView.svelte
│   └── components/
└── diff/                      # 差异视图
    ├── diffView.ts
    └── splitDiffView.ts
```

#### 4. 功能模块文件
- `src/gitManager/` - Git 管理器
- `src/lineAuthor/` - 行作者功能
- `src/statusBar.ts` - 状态栏

#### 5. 工具和辅助文件
- `src/utils.ts` - 工具函数
- `src/tools.ts` - 辅助工具

#### 6. 文档文件
- `README.md` - 项目说明
- `CHANGELOG.md` - 更新日志

## 🛠️ 实施方案

### 阶段 1：准备阶段 (1-2 天)
1. **创建 i18n 基础架构**
   - 创建语言文件目录结构
   - 实现语言切换机制
   - 建立翻译函数系统

2. **建立术语词典**
   - 整理所有需要翻译的术语
   - 统一翻译标准
   - 创建术语对照表

### 阶段 2：核心界面汉化 (3-4 天)
1. **插件基本信息**
   - manifest.json 汉化
   - 插件名称和描述

2. **主要命令汉化**
   - commands.ts 中的命令名称
   - 菜单项文本

3. **核心 UI 组件**
   - 源代码控制视图
   - 历史视图
   - 差异视图

### 阶段 3：设置和配置汉化 (2-3 天)
1. **设置页面完整汉化**
   - 所有设置选项标题
   - 设置项描述文本
   - 帮助提示信息

2. **验证和错误消息**
   - 输入验证提示
   - 错误处理消息

### 阶段 4：高级功能和细节汉化 (2-3 天)
1. **模态框和对话框**
   - 所有弹窗组件
   - 确认对话框
   - 输入表单

2. **状态栏和通知**
   - 状态显示文本
   - 操作完成通知
   - 错误提示

### 阶段 5：文档和完善 (1-2 天)
1. **文档汉化**
   - README.md 翻译
   - 重要注释翻译

2. **测试和优化**
   - 全面功能测试
   - 文本显示优化
   - 用户体验调整

## 🧪 测试策略

### 1. 功能测试
- ✅ 所有插件功能正常工作
- ✅ 汉化文本正确显示
- ✅ 界面布局未被破坏
- ✅ 设置保存和加载正常

### 2. 兼容性测试
- ✅ 不同 Obsidian 版本兼容
- ✅ 不同操作系统兼容
- ✅ 与其他插件兼容

### 3. 用户体验测试
- ✅ 文本表达清晰易懂
- ✅ 操作流程顺畅
- ✅ 错误提示有帮助

## 📝 质量保证

### 1. 代码质量
- 使用 ESLint 和 Prettier 保持代码规范
- 保持原有的 TypeScript 类型安全
- 遵循现有的代码架构模式

### 2. 翻译质量
- 技术术语准确性验证
- 用户界面友好性检查
- 本地化表达习惯调整

### 3. 性能要求
- 汉化不增加显著的性能开销
- 语言包按需加载
- 保持原有的响应速度

## 🔄 维护计划

### 1. 持续更新
- 跟进原版插件更新
- 及时翻译新功能
- 修复翻译错误和改进

### 2. 社区贡献
- 建立翻译协作机制
- 收集用户反馈
- 持续改进翻译质量

## 📋 注意事项

### 1. 技术注意事项
- 保持 Git 历史记录清晰
- 避免破坏现有功能
- 确保构建流程正常

### 2. 翻译注意事项
- 尊重原意，避免过度意译
- 考虑中文用户的使用习惯
- 保持专业性和准确性

### 3. 测试注意事项
- 在多种环境下测试
- 重点测试边界情况
- 验证错误处理逻辑

---

**文档版本**: v1.0  
**创建日期**: {{当前日期}}  
**最后更新**: {{当前日期}}  
**负责人**: 开发团队
